<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Educational Institute</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="logo.png" type="image/png">
    <style>
        :root {
            --primary-color: #2d6b6b;
            --secondary-color: #3a9d9d;
            --accent-color: #f8f9fa;
            --text-color: #333;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f6f9;
            margin: 0;
            padding: 0;
            color: var(--text-color);
            overflow-x: hidden;
        }

        .navbar {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)) !important;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1030;
            height: 60px;
            border-bottom: 3px solid rgba(255, 255, 255, 0.1);
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: white !important;
        }

        .dashboard-sidebar {
            position: fixed;
            top: 60px;
            left: 0;
            height: calc(100vh - 60px);
            width: 260px;
            background: linear-gradient(180deg, #2c3e50, #34495e);
            padding-top: 20px;
            overflow-y: auto;
            z-index: 1020;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .dashboard-sidebar .nav-link {
            color: #bdc3c7;
            padding: 15px 25px;
            margin: 5px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: 500;
            border-left: 4px solid transparent;
        }

        .dashboard-sidebar .nav-link.active,
        .dashboard-sidebar .nav-link:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: #ffffff;
            border-left-color: var(--secondary-color);
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(58, 157, 157, 0.3);
        }

        .dashboard-sidebar .nav-link i {
            width: 20px;
            text-align: center;
            margin-right: 10px;
            font-size: 1.1rem;
        }

        .dashboard-content {
            margin-left: 260px;
            margin-top: 60px;
            height: calc(100vh - 60px);
            display: flex;
            flex-direction: column;
            background-color: #f4f6f9;
            transition: margin-left 0.3s ease;
        }

        /* Stats Container - Fixed Height */
        .stats-container {
            flex-shrink: 0;
            background: #f4f6f9;
            padding: 15px 0px 0px 0px;
            border-bottom: 1px solid #eaeaea;
        }

        .stats-card {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            height: 100%;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .stats-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        .stats-card .icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            background: linear-gradient(135deg, #e8f4f4, #ffffff);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            box-shadow: 0 4px 15px rgba(45, 107, 107, 0.2);
        }

        .stats-number {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 10px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .stats-card p {
            color: #6c757d;
            font-weight: 500;
            margin: 0;
            font-size: 0.95rem;
        }

        /* Tabs Container - Fixed */
        .tabs-container {
            flex-shrink: 0;
            background: #ffffff;
            padding: 0 35px;
            border-bottom: 1px solid #dee2e6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            position: sticky;
            top: 0;
            z-index: 1010;
        }

        .nav-tabs {
            border-bottom: none;
            margin-bottom: 0;
            gap: 5px;
        }

        .nav-tabs .nav-link {
            border: none;
            border-bottom: 3px solid transparent;
            color: #495057;
            font-weight: 600;
            padding: 18px 25px;
            transition: all 0.3s ease;
            background: transparent;
            border-radius: 8px 8px 0 0;
            position: relative;
        }
        
        .nav-tabs .nav-link.active {
            border-bottom: 3px solid var(--primary-color);
            color: var(--primary-color);
            background: rgba(45, 107, 107, 0.05);
        }

        .nav-tabs .nav-link:hover {
            border-bottom-color: var(--secondary-color);
            color: var(--secondary-color);
            background: rgba(58, 157, 157, 0.05);
        }

        /* Tab Content Container - Scrollable */
        .tab-content-container {
            flex: 1;
            overflow-y: auto;
            padding: 0px 0px;
            background-color: #f4f6f9;
        }

        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            margin-bottom: 15px;
            background: #ffffff;
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }

        .card-header {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-bottom: 1px solid #eaeaea;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-color);
            padding: 20px 25px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-radius: 15px 15px 0 0 !important;
        }

        .table-responsive {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .table {
            margin-bottom: 0;
        }

        .table thead th {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 15px 12px;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .table tbody tr {
            transition: all 0.2s ease;
            border-bottom: 1px solid #f1f3f4;
        }

        .table tbody tr:hover {
            background-color: #f8fdfd;
            transform: scale(1.01);
        }

        .table tbody td {
            padding: 15px 12px;
            vertical-align: middle;
            border: none;
            font-weight: 500;
        }

        .notification-panel {
            position: fixed;
            top: 60px;
            right: 0;
            width: 400px;
            height: calc(100vh - 60px);
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            box-shadow: -5px 0 25px rgba(0,0,0,0.1);
            z-index: 1040;
            padding: 25px;
            overflow-y: auto;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            border-left: 1px solid #eaeaea;
        }

        .notification-panel.open {
            transform: translateX(0);
        }

        .notification-bell {
            position: relative;
            margin-right: 20px;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .notification-bell:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: linear-gradient(135deg, var(--danger-color), #e74c3c);
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.4);
        }

        .modal-content {
            border-radius: 20px;
            border: none;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-bottom: none;
            padding: 25px 30px;
        }

        .modal-header .modal-title {
            font-weight: 700;
            font-size: 1.3rem;
        }

        .modal-body {
            padding: 30px;
        }

        .modal-footer {
            border-top: 1px solid #eaeaea;
            padding: 20px 30px;
            background: #f8f9fa;
        }
        
        .form-control, .form-select {
            border-radius: 12px;
            padding: 12px 18px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.3rem rgba(45, 107, 107, 0.15);
            transform: translateY(-2px);
        }

        .form-label {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .btn-action {
            padding: 8px 12px;
            font-size: 0.85rem;
            margin: 0 3px;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-action:hover {
            transform: scale(1.1);
        }
        
        .sync-status {
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 1000;
            padding: 15px 20px;
            border-radius: 12px;
            font-weight: 600;
            display: none;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .badge-success {
            background: linear-gradient(135deg, var(--success-color), #20c997);
        }

        .badge-warning {
            background: linear-gradient(135deg, var(--warning-color), #fd7e14);
        }

        .badge-danger {
            background: linear-gradient(135deg, var(--danger-color), #e74c3c);
        }

        .badge-info {
            background: linear-gradient(135deg, var(--info-color), #2dc3e8);
        }

        .attendance-mark {
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 8px;
            display: inline-block;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .present {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
            border: 2px solid #28a745;
        }

        .absent {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            padding: 12px 25px;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(45, 107, 107, 0.3);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(45, 107, 107, 0.4);
        }

        .btn-sm {
            padding: 10px 18px;
            font-size: 0.9rem;
        }

        .search-box {
            max-width: 350px;
        }

        .search-box .form-control {
            border-radius: 25px;
            padding-left: 45px;
            background: #f8f9fa;
        }

        .search-box i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
            z-index: 5;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* Enhanced attendance styling */
        .attendance-checkbox:checked + label {
            font-weight: 700;
            color: var(--success-color);
        }

        .present-badge {
            font-size: 0.8rem;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
        }

        /* Notification panel enhancements */
        .notification-item {
            border-left: 5px solid #dee2e6;
            transition: all 0.3s ease;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }

        .notification-item.high-priority {
            border-left-color: var(--danger-color);
            background: linear-gradient(135deg, #fff5f5, #ffffff);
        }

        .notification-item.medium-priority {
            border-left-color: var(--warning-color);
            background: linear-gradient(135deg, #fffbf0, #ffffff);
        }

        .notification-item.low-priority {
            border-left-color: var(--info-color);
            background: linear-gradient(135deg, #f0f9ff, #ffffff);
        }

        .notification-item:hover {
            background-color: #f8f9fa;
            transform: translateX(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.12);
        }

        /* Custom scrollbar for tab content */
        .tab-content-container::-webkit-scrollbar {
            width: 8px;
        }

        .tab-content-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .tab-content-container::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 4px;
        }

        .tab-content-container::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
        }

        /* Custom scrollbar for sidebar */
        .dashboard-sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .dashboard-sidebar::-webkit-scrollbar-track {
            background: #2c3237;
        }

        .dashboard-sidebar::-webkit-scrollbar-thumb {
            background: var(--secondary-color);
            border-radius: 3px;
        }

        .dashboard-sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }
        

        @media (max-width: 768px) {
            .dashboard-sidebar {
                width: 100%;
                height: auto;
                position: relative;
                top: 0;
                transform: translateX(-100%);
            }
            
            .dashboard-sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .dashboard-content {
                margin-left: 0;
                margin-top: 60px;
                height: auto;
            }

            .stats-container,
            .tabs-container,
            .tab-content-container {
                padding: 15px;
            }
            
            .stats-card {
                margin-bottom: 15px;
            }

            .notification-panel {
                width: 100%;
            }
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: #6c757d;
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #dee2e6;
            opacity: 0.7;
        }

        .empty-state p {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .status-badge {
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Table header sticky */
        .table thead th {
            position: sticky;
            top: 0;
            z-index: 10;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        /* Card body padding adjustment */
        .card-body {
            padding: 0;
        }

        /* Fix for tab content height */
        .tab-pane {
            min-height: 100%;
        }

        /* Enhanced dropdown styling */
        .dropdown-menu {
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border: none;
            padding: 10px;
        }

        .dropdown-item {
            padding: 10px 15px;
            border-radius: 8px;
            margin: 2px 0;
            transition: all 0.3s ease;
        }

        .dropdown-item:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            transform: translateX(5px);
        }

        /* Mobile menu button -*/
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            margin-right: 15px;
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .dashboard-sidebar {
                transform: translateX(-100%);
            }
            
            .dashboard-sidebar.mobile-open {
                transform: translateX(0);
            }
        }

        /* Enhanced form styling */
        .form-check-input:checked {
            background-color: var(--success-color);
            border-color: var(--success-color);
        }

        .form-check-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(45, 107, 107, 0.25);
        }

        /* Progress bars for attendance */
        .attendance-progress {
            height: 8px;
            border-radius: 4px;
            background: #e9ecef;
            overflow: hidden;
        }

        .attendance-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), var(--info-color));
            border-radius: 4px;
        }

        /* Hover effects for cards */
        .feature-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        /* Badge variations */
        .badge-online {
            background: linear-gradient(135deg, var(--success-color), #20c997);
        }

        .badge-offline {
            background: linear-gradient(135deg, #6c757d, #868e96);
        }

        .badge-busy {
            background: linear-gradient(135deg, var(--danger-color), #e74c3c);
        }

        /* Animation for notifications */
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification-panel.open {
            animation: slideInRight 0.3s ease-out;
        }

        /* Print styles */
        @media print {
            .navbar, .dashboard-sidebar, .notification-panel, .sync-status {
                display: none !important;
            }
            
            .dashboard-content {
                margin: 0;
                height: auto;
            }
            
            .card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }
        /* Contact Messages Styling */
        .contact-messages-container {
            max-height: 600px;
            overflow-y: auto;
        }
        
        .contact-messages-container table {
            margin-bottom: 0;
        }
        
        .contact-messages-container .table td {
            vertical-align: middle;
        }
        
        /* Status badges */
        .badge.bg-danger { background-color: #dc3545 !important; }
        .badge.bg-warning { background-color: #ffc107 !important; color: #000; }
        .badge.bg-info { background-color: #0dcaf0 !important; }
        .badge.bg-success { background-color: #198754 !important; }
        
        /* New message highlight */
        .table-warning {
            background-color: rgba(255, 193, 7, 0.1) !important;
        }
        /* Add to your existing CSS */
        .class-header-row {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .class-header-row:hover {
            background-color: #e9ecef !important;
        }
        
        .class-student-row {
            transition: all 0.3s ease;
        }
        
        .class-student-row:hover {
            background-color: #f8fdfd;
            transform: scale(1.01);
        }
        
        .student-avatar {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .student-avatar i {
            font-size: 1.5rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
            <a class="navbar-brand" href="#">
                <i class="fas fa-graduation-cap me-2"></i>AACEM Institute
            </a>
            <div class="d-flex align-items-center">
                <div class="notification-bell" onclick="toggleNotifications()">
                    <i class="fas fa-bell text-white"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </div>
                <div class="btn-group ms-3">
                    <button class="btn btn-outline-light btn-sm" onclick="syncWithSupabase()">
                        <i class="fas fa-sync-alt me-1"></i> Sync Data
                    </button>
                    <button class="btn btn-outline-light btn-sm ms-2" onclick="logout()">
                        <i class="fas fa-sign-out-alt me-1"></i> Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h4 class="mb-0 text-primary">Notifications</h4>
            <div>
                <button class="btn btn-sm btn-outline-primary me-2" onclick="markAllNotificationsRead()">
                    <i class="fas fa-check-double me-1"></i> Mark All Read
                </button>
                <button class="btn btn-sm btn-outline-secondary" onclick="toggleNotifications()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div id="notificationList">
            <!-- Notifications will be loaded here -->
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 dashboard-sidebar" id="sidebar">
                <div class="text-center my-4">
                    <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-user-shield text-white" style="font-size: 2rem;"></i>
                    </div>
                    <h5 class="text-white mb-1">Admin Panel</h5>
                    <small class="text-light opacity-75">Management System</small>
                </div>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showDashboard()">
                            <i class="fas fa-tachometer-alt"></i> Dashboard Overview
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#studentModal">
                            <i class="fas fa-user-plus"></i> New Student Admission
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#courseModal">
                            <i class="fas fa-book"></i> Course Management
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#attendanceModal">
                            <i class="fas fa-clipboard-check"></i> Mark Attendance
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#feeModal">
                            <i class="fas fa-money-bill-wave"></i> Fee Collection
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#teacherModal">
                            <i class="fas fa-chalkboard-teacher"></i> Faculty Management
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#marksModal">
                            <i class="fas fa-chart-line"></i> Exam Results
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#notificationModal">
                            <i class="fas fa-bullhorn"></i> Send Notification
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#reportModal">
                            <i class="fas fa-file-pdf"></i> Generate Reports
                        </a>
                    </li>
                    
                </ul>
                
                <!-- Sidebar Footer -->
                <div class="mt-auto p-4 text-center">
                    <small class="text-light opacity-50">
                        <i class="fas fa-heart text-danger"></i><br>
                        AACEM Institute<br>
                        Management System v2.0
                    </small>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 col-lg-10 dashboard-content">
                <!-- Stats Cards -->
                <div class="stats-container">
                    <div class="row mb-4" id="dashboardStats">
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="stats-card">
                                <div class="icon"><i class="fas fa-user-graduate"></i></div>
                                <h3 class="stats-number" id="totalStudents">0</h3>
                                <p>Total Students</p>
                                <small class="text-muted">Currently Enrolled</small>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="stats-card">
                                <div class="icon"><i class="fas fa-chalkboard-teacher"></i></div>
                                <h3 class="stats-number" id="totalTeachers">0</h3>
                                <p>Faculty Members</p>
                                <small class="text-muted">Teaching Staff</small>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="stats-card">
                                <div class="icon"><i class="fas fa-book-open"></i></div>
                                <h3 class="stats-number" id="totalCourses">0</h3>
                                <p>Active Courses</p>
                                <small class="text-muted">Available Programs</small>
                            </div>
                        </div>
                        <!--<div class="col-xl-3 col-md-6 mb-4">
                            <div class="stats-card">
                                <div class="icon"><i class="fas fa-money-bill-wave"></i></div>
                                <h3 class="stats-number" id="totalRevenue">â‚¹0</h3>
                                <p>Total Revenue</p>
                                <small class="text-muted">All Time Collection</small>
                            </div>
                        </div>-->
                    </div>
                </div>

                <!-- Fixed Tabs Container -->
                <div class="tabs-container">
                    <ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="students-tab" data-bs-toggle="tab" data-bs-target="#students" type="button" role="tab">
                                <i class="fas fa-users me-2"></i>Students
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="teachers-tab" data-bs-toggle="tab" data-bs-target="#teachers" type="button" role="tab">
                                <i class="fas fa-user-tie me-2"></i>Teachers
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="courses-tab" data-bs-toggle="tab" data-bs-target="#courses" type="button" role="tab">
                                <i class="fas fa-graduation-cap me-2"></i>Courses
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="fees-tab" data-bs-toggle="tab" data-bs-target="#fees" type="button" role="tab">
                                <i class="fas fa-credit-card me-2"></i>Fee Records
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="attendance-tab" data-bs-toggle="tab" data-bs-target="#attendance" type="button" role="tab">
                                <i class="fas fa-calendar-check me-2"></i>Attendance
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="marks-tab" data-bs-toggle="tab" data-bs-target="#marks" type="button" role="tab">
                                <i class="fas fa-chart-bar me-2"></i>Exam Results
                            </button>
                        </li>
                        <!-- Contact Messages Tab - Add this in your nav tabs -->
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab">
                                <i class="fas fa-envelope me-2"></i> Contact Messages
                                <span id="contactMessageCount" class="badge bg-danger ms-2">0</span>
                            </button>
                        </li>
                    </ul>
                </div>

                <!-- Scrollable Content Area -->
                <div class="tab-content-container">
                    <div class="tab-content" id="dashboardTabsContent">
                        <!-- Students Tab -->
                        <div class="tab-pane fade show active" id="students" role="tabpanel">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0"><i class="fas fa-user-graduate me-2"></i>Student Management</h5>
                                    <div class="d-flex gap-2 align-items-center">
                                        <div class="search-box position-relative">
                                            <i class="fas fa-search"></i>
                                            <input type="text" class="form-control form-control-sm" placeholder="Search students by name, ID, or course..." id="studentSearch">
                                        </div>
                                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#studentModal">
                                            <i class="fas fa-plus me-1"></i> Add New
                                        </button>
                                        <button class="btn btn-success btn-sm" onclick="exportData('students')">
                                            <i class="fas fa-download me-1"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Name</th>
                                                    <th>Course</th>
                                                    <th>Join Date</th>
                                                    <th>Contact</th>
                                                    <th>Fee Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="studentsTableBody">
                                                <!-- Students data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Teachers Tab -->
                        <div class="tab-pane fade" id="teachers" role="tabpanel">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0"><i class="fas fa-user-tie me-2"></i>Faculty Management</h5>
                                    <div class="d-flex gap-2 align-items-center">
                                        <div class="search-box position-relative">
                                            <i class="fas fa-search"></i>
                                            <input type="text" class="form-control form-control-sm" placeholder="Search teachers by name, subject..." id="teacherSearch">
                                        </div>
                                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#teacherModal">
                                            <i class="fas fa-plus me-1"></i> Add New
                                        </button>
                                        <button class="btn btn-success btn-sm" onclick="exportData('teachers')">
                                            <i class="fas fa-download me-1"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Name</th>
                                                    <th>Subject</th>
                                                    <th>Join Date</th>
                                                    <th>Contact</th>
                                                    <th>Salary</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="teachersTableBody">
                                                <!-- Teachers data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Courses Tab -->
                        <div class="tab-pane fade" id="courses" role="tabpanel">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0"><i class="fas fa-graduation-cap me-2"></i>Course Management</h5>
                                    <div class="d-flex gap-2">
                                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#courseModal">
                                            <i class="fas fa-plus me-1"></i> Add New
                                        </button>
                                        <button class="btn btn-success btn-sm" onclick="exportData('courses')">
                                            <i class="fas fa-download me-1"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Code</th>
                                                    <th>Course Name</th>
                                                    <th>Duration</th>
                                                    <th>Fee</th>
                                                    <th>Category</th>
                                                    <th>Students</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="coursesTableBody">
                                                <!-- Courses data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Fees Tab -->
                        <div class="tab-pane fade" id="fees" role="tabpanel">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0"><i class="fas fa-credit-card me-2"></i>Fee Management</h5>
                                    <div class="d-flex gap-2">
                                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#feeModal">
                                            <i class="fas fa-plus me-1"></i> Record Payment
                                        </button>
                                        <button class="btn btn-success btn-sm" onclick="exportData('fees')">
                                            <i class="fas fa-download me-1"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Receipt No</th>
                                                    <th>Student</th>
                                                    <th>Course</th>
                                                    <th>Amount</th>
                                                    <th>Payment Date</th>
                                                    <th>Payment Mode</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="feesTableBody">
                                                <!-- Fees data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Attendance Tab -->
                        <div class="tab-pane fade" id="attendance" role="tabpanel">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0"><i class="fas fa-calendar-check me-2"></i>Attendance Records</h5>
                                    <div class="d-flex gap-2">
                                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#attendanceModal">
                                            <i class="fas fa-plus me-1"></i> Mark Attendance
                                        </button>
                                        <button class="btn btn-success btn-sm" onclick="exportData('attendance')">
                                            <i class="fas fa-download me-1"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Date</th>
                                                    <th>Class</th>
                                                    <th>attendance_data</th>
                                                    <th>Present</th>
                                                    <th>Absent</th>
                                                    <th>Percentage</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="attendanceTableBody">
                                                <!-- Attendance data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Contact Messages Content - Add this in your tab content -->
                        <div class="tab-pane fade" id="contact" role="tabpanel">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h4><i class="fas fa-envelope me-2"></i> Contact Messages</h4>
                                <div class="btn-group">
                                    <button class="btn btn-outline-primary btn-sm" onclick="loadContactMessages()">
                                        <i class="fas fa-sync-alt me-1"></i> Refresh
                                    </button>
                                    <button class="btn btn-outline-danger btn-sm" onclick="deleteAllReadMessages()">
                                        <i class="fas fa-trash me-1"></i> Clear Read
                                    </button>
                                </div>
                            </div>
                        
                            <!-- Filter Buttons -->
                            <div class="row mb-3">
                                <div class="col-md-12">
                                    <div class="btn-group btn-group-sm" role="group">
                                        <button type="button" class="btn btn-outline-primary active" onclick="filterMessages('all')">
                                            All Messages
                                        </button>
                                        <button type="button" class="btn btn-outline-danger" onclick="filterMessages('new')">
                                            New <span id="newCount" class="badge bg-danger ms-1">0</span>
                                        </button>
                                        <button type="button" class="btn btn-outline-warning" onclick="filterMessages('read')">
                                            Read
                                        </button>
                                        <button type="button" class="btn btn-outline-info" onclick="filterMessages('replied')">
                                            Replied
                                        </button>
                                        <button type="button" class="btn btn-outline-success" onclick="filterMessages('resolved')">
                                            Resolved
                                        </button>
                                    </div>
                                </div>
                            </div>
                        
                            <!-- Messages Container -->
                            <div class="card">
                                <div class="card-body">
                                    <div id="contactMessagesContainer" class="contact-messages-container">
                                        <div class="text-center py-5">
                                            <div class="spinner-border text-primary mb-3" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                            <p>Loading contact messages...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Marks Tab -->
                        <div class="tab-pane fade" id="marks" role="tabpanel">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Student Performance</h5>
                                    <div class="d-flex gap-2">
                                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#marksModal">
                                            <i class="fas fa-plus me-1"></i> Enter Marks
                                        </button>
                                        <button class="btn btn-success btn-sm" onclick="exportData('marks')">
                                            <i class="fas fa-download me-1"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Exam</th>
                                                    <th>Student</th>
                                                    <th>Course</th>
                                                    <th>Subject</th>
                                                    <th>Marks</th>
                                                    <th>Percentage</th>
                                                    <th>Grade</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="marksTableBody">
                                                <!-- Marks data will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sync Status Indicator -->
    <div id="syncStatus" class="sync-status bg-success text-white">
        <i class="fas fa-check-circle me-2"></i> Data synced with Supabase
    </div>

    <!-- Modals -->
    <!-- Student Modal -->
    <div class="modal fade" id="studentModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="studentModalTitle"><i class="fas fa-user-plus me-2"></i>New Student Admission</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="studentForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Full Name *</label>
                                <input type="text" class="form-control" name="fullName" required placeholder="Enter student's full name">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Parent's Name *</label>
                                <input type="text" class="form-control" name="parentName" required placeholder="Enter parent's full name">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Contact Number *</label>
                                <input type="tel" class="form-control" name="phone" required placeholder="Enter phone number">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Email Address</label>
                                <input type="email" class="form-control" name="email" placeholder="Enter email address">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Select Course *</label>
                                <select class="form-select" name="course" required>
                                    <option value="">Select Course</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Course Fee *</label>
                                <input type="number" class="form-control" name="fee" required placeholder="Enter course fee">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Address</label>
                            <textarea class="form-control" name="address" rows="3" placeholder="Enter complete address"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="studentSaveBtn" onclick="saveStudent()">
                        <i class="fas fa-save me-1"></i> Save Student
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Course Modal -->
    <div class="modal fade" id="courseModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="courseModalTitle"><i class="fas fa-book me-2"></i>Add New Course</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="courseForm">
                        <div class="mb-3">
                            <label class="form-label">Course Name *</label>
                            <input type="text" class="form-control" name="courseName" required placeholder="Enter course name">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Course Code *</label>
                            <input type="text" class="form-control" name="courseCode" required placeholder="Enter course code">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Duration (Months) *</label>
                            <input type="number" class="form-control" name="duration" required min="1" placeholder="Enter duration in months">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Fee Amount (â‚¹) *</label>
                            <input type="number" class="form-control" name="feeAmount" required min="0" placeholder="Enter course fee">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" name="description" rows="3" placeholder="Enter course description"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Category</label>
                            <select class="form-select" name="category">
                                <option value="computer">Computer Course</option>
                                <option value="academic">Academic</option>
                                <option value="professional">Professional</option>
                                <option value="vocational">Vocational</option>
                            </select>
                        </div>
                        <div class="mb-3 form-check form-switch">
                            <input type="checkbox" class="form-check-input" name="isActive" checked role="switch">
                            <label class="form-check-label">Active Course</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="courseSaveBtn" onclick="saveCourse()">
                        <i class="fas fa-save me-1"></i> Save Course
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Fee Modal -->
    <div class="modal fade" id="feeModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-money-bill-wave me-2"></i>Fee Collection</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="feeForm">
                        <div class="mb-3">
                            <label class="form-label">Select Student *</label>
                            <select class="form-select" name="studentId" required onchange="updateFeeDetails(this.value)">
                                <option value="">Select Student</option>
                            </select>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Total Fee</label>
                                <input type="number" class="form-control" name="totalFee" readonly>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Paid Amount</label>
                                <input type="number" class="form-control" name="paidAmount" readonly>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Due Amount</label>
                                <input type="number" class="form-control" name="dueAmount" readonly>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Amount Paying Now *</label>
                            <input type="number" class="form-control" name="payingNow" required min="1" placeholder="Enter amount">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Payment Date *</label>
                            <input type="date" class="form-control" name="paymentDate" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Payment Mode *</label>
                            <select class="form-select" name="paymentMode" required>
                                <option value="cash">Cash</option>
                                <option value="bank">Bank Transfer</option>
                                <option value="cheque">Cheque</option>
                                <option value="online">Online Payment</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="recordPayment()">
                        <i class="fas fa-receipt me-1"></i> Record Payment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Teacher Modal -->
    <div class="modal fade" id="teacherModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="teacherModalTitle"><i class="fas fa-user-tie me-2"></i>Add New Teacher</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="teacherForm">
                        <div class="mb-3">
                            <label class="form-label">Full Name *</label>
                            <input type="text" class="form-control" name="fullName" required placeholder="Enter teacher's full name">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Subject/Expertise *</label>
                            <input type="text" class="form-control" name="subject" required placeholder="Enter subject or expertise">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Contact Number *</label>
                            <input type="tel" class="form-control" name="phone" required placeholder="Enter phone number">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email Address</label>
                            <input type="email" class="form-control" name="email" placeholder="Enter email address">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Monthly Salary *</label>
                            <input type="number" class="form-control" name="salary" required placeholder="Enter monthly salary">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Joining Date *</label>
                            <input type="date" class="form-control" name="joiningDate" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Address</label>
                            <textarea class="form-control" name="address" rows="2" placeholder="Enter address"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="teacherSaveBtn" onclick="saveTeacher()">
                        <i class="fas fa-save me-1"></i> Save Teacher
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Marks Modal -->
    <div class="modal fade" id="marksModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="marksModalTitle"><i class="fas fa-chart-line me-2"></i>Enter Student Marks</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="marksForm">
                        <div class="mb-3">
                            <label class="form-label">Select Exam *</label>
                            <select class="form-select" name="exam" required>
                                <option value="">Select Exam</option>
                                <option value="Class Test-1">Class Test-1</option>
                                <option value="Class Test-2">Class Test-2</option>
                                <option value="Class Test-3">Class Test-3</option>
                                <option value="Class Test-4">Class Test-4</option>
                                <option value="Class Test-5">Class Test-5</option>
                                <option value="Final Exam">Final Exam</option>                    
                                <option value="Quiz-1">Quiz-1</option>
                                <option value="Quiz-2">Quiz-2</option>
                            </select>
                        </div>
                        
                        <!-- Course Selection -->
                        <div class="mb-3">
                            <label class="form-label">Select Course *</label>
                            <select class="form-select" name="course" required onchange="loadStudentsForMarks(this.value)">
                                <option value="">Select Course</option>
                            </select>
                        </div>
                        
                        <!-- Student Search -->
                        <div class="mb-3">
                            <label class="form-label">Search Student by UID</label>
                            <div class="input-group">
                                <input type="text" class="form-control" id="studentSearchMarks" placeholder="Enter Student UID" onkeyup="searchStudentForMarks(this.value)">
                                <button class="btn btn-outline-secondary" type="button" onclick="clearStudentSearch()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Student Selection -->
                        <div class="mb-3">
                            <label class="form-label">Select Student *</label>
                            <select class="form-select" name="studentId" required id="marksStudentSelect">
                                <option value="">Select Student</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Subject *</label>
                            <input type="text" class="form-control" name="subject" required placeholder="Enter subject name">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Marks Obtained *</label>
                            <input type="number" class="form-control" name="marks" required min="0" max="100" step="0.01" placeholder="Enter marks obtained">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Total Marks</label>
                            <input type="number" class="form-control" name="totalMarks" value="100" readonly>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Exam Date *</label>
                            <input type="date" class="form-control" name="examDate" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="marksSaveBtn" onclick="saveMarks()">
                        <i class="fas fa-save me-1"></i> Save Marks
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Attendance Modal -->
    <div class="modal fade" id="attendanceModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-clipboard-check me-2"></i>Mark Attendance</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="attendanceForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Select Class *</label>
                                <select class="form-select" name="class" required onchange="loadClassStudents(this.value)">
                                    <option value="">Select Class</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Date *</label>
                                <input type="date" class="form-control" name="date" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Student Attendance</label>
                            <div id="attendanceStudentsList" class="border rounded p-3" style="max-height: 400px; overflow-y: auto; background: #f8f9fa;">
                                <!-- Students will be populated here -->
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveAttendance()">
                        <i class="fas fa-save me-1"></i> Save Attendance
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- View Contact Message Modal - Add this at the end of your modals -->
    <div class="modal fade" id="viewContactModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title"><i class="fas fa-envelope me-2"></i> Contact Message Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="contactMessageDetails">
                        <!-- Message details will be loaded here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" onclick="markAsReplied()">
                        <i class="fas fa-reply me-1"></i> Mark as Replied
                    </button>
                    <button type="button" class="btn btn-danger" onclick="deleteCurrentMessage()">
                        <i class="fas fa-trash me-1"></i> Delete
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Notification Modal -->
    <div class="modal fade" id="notificationModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-bullhorn me-2"></i>Send Notification</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="notificationForm">
                        <div class="mb-3">
                            <label class="form-label">Title *</label>
                            <input type="text" class="form-control" name="title" required placeholder="Enter notification title">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Message *</label>
                            <textarea class="form-control" name="message" rows="3" required placeholder="Enter notification message"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Audience *</label>
                            <select class="form-select" name="audience" required>
                                <option value="all">All Users</option>
                                <option value="students">Students Only</option>
                                <option value="teachers">Teachers Only</option>
                                <option value="parents">Parents Only</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Priority</label>
                            <select class="form-select" name="priority">
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="sendNotification()">
                        <i class="fas fa-paper-plane me-1"></i> Send Notification
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Modal -->
    <div class="modal fade" id="reportModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-file-pdf me-2"></i>Generate Report</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="reportForm">
                        <div class="mb-3">
                            <label class="form-label">Report Type *</label>
                            <select class="form-select" name="reportType" required>
                                <option value="">Select Report Type</option>
                                <option value="students">Students Report</option>
                                <option value="teachers">Teachers Report</option>
                                <option value="courses">Courses Report</option>
                                <option value="fees">Fee Collection Report</option>
                                <option value="attendance">Attendance Report</option>
                                <option value="marks">Exam Results Report</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Start Date</label>
                            <input type="date" class="form-control" name="startDate">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">End Date</label>
                            <input type="date" class="form-control" name="endDate">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Format *</label>
                            <select class="form-select" name="format" required>
                                <option value="csv">CSV</option>
                                <option value="excel">Excel</option>
                                <option value="pdf">PDF</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="generateReport()">
                        <i class="fas fa-download me-1"></i> Generate Report
                    </button>
                </div>
            </div>
        </div>
    </div>

   

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Mobile menu functionality
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-open');
        }

        // Mark all notifications as read
        function markAllNotificationsRead() {
            const notifications = document.querySelectorAll('.notification-item');
            notifications.forEach(notification => {
                notification.style.opacity = '0.7';
            });
            document.getElementById('notificationCount').textContent = '0';
            showSuccess('All notifications marked as read!');
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            
            if (window.innerWidth <= 768 && 
                !sidebar.contains(event.target) && 
                !mobileMenuBtn.contains(event.target)) {
                sidebar.classList.remove('mobile-open');
            }
        });

        // Close notifications when clicking outside
        document.addEventListener('click', function(event) {
            const notificationPanel = document.getElementById('notificationPanel');
            const notificationBell = document.querySelector('.notification-bell');
            
            if (!notificationPanel.contains(event.target) && 
                !notificationBell.contains(event.target)) {
                notificationPanel.classList.remove('open');
            }
        });
        
    </script>
    <script src="dashboard-admin.js"></script>
</body>

</html>







